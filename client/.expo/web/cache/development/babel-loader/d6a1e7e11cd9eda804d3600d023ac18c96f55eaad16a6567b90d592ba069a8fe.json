{"ast":null,"code":"import { cond, sub, pow, divide, multiply, add, block, set, lessThan, proc, abs } from \"../base\";\nvar VELOCITY_EPS = 5;\nfunction decay(clock, state, config) {\n  var lastTime = cond(state.time, state.time, clock);\n  var deltaTime = sub(clock, lastTime);\n  var kv = pow(config.deceleration, deltaTime);\n  var kx = divide(multiply(config.deceleration, sub(1, kv)), sub(1, config.deceleration));\n  var v0 = divide(state.velocity, 1000);\n  var v = multiply(v0, kv, 1000);\n  var x = add(state.position, multiply(v0, kx));\n  return block([set(state.position, x), set(state.velocity, v), set(state.time, clock), cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1))]);\n}\nvar procDecay = proc(function (clock, time, velocity, position, finished, deceleration) {\n  return decay(clock, {\n    time: time,\n    velocity: velocity,\n    position: position,\n    finished: finished\n  }, {\n    deceleration: deceleration\n  });\n});\nexport default function decayAnimation(clock, _ref, _ref2) {\n  var time = _ref.time,\n    velocity = _ref.velocity,\n    position = _ref.position,\n    finished = _ref.finished;\n  var deceleration = _ref2.deceleration;\n  return procDecay(clock, time, velocity, position, finished, deceleration);\n}","map":{"version":3,"names":["cond","sub","pow","divide","multiply","add","block","set","lessThan","proc","abs","VELOCITY_EPS","decay","clock","state","config","lastTime","time","deltaTime","kv","deceleration","kx","v0","velocity","v","x","position","finished","procDecay","decayAnimation","_ref","_ref2"],"sources":["C:/Users/Admin/Code/git clone/EThrift/client/node_modules/react-native-reanimated/lib/reanimated1/animations/decay.js"],"sourcesContent":["import {\r\n  cond,\r\n  sub,\r\n  pow,\r\n  divide,\r\n  multiply,\r\n  add,\r\n  block,\r\n  set,\r\n  lessThan,\r\n  proc,\r\n  abs,\r\n} from '../base';\r\n\r\nconst VELOCITY_EPS = 5;\r\n\r\nfunction decay(clock, state, config) {\r\n  const lastTime = cond(state.time, state.time, clock);\r\n  const deltaTime = sub(clock, lastTime);\r\n\r\n  // v0 = v / 1000\r\n  // v = v0 * powf(deceleration, dt);\r\n  // v = v * 1000;\r\n\r\n  // x0 = x;\r\n  // x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\r\n  const kv = pow(config.deceleration, deltaTime);\r\n  const kx = divide(\r\n    multiply(config.deceleration, sub(1, kv)),\r\n    sub(1, config.deceleration)\r\n  );\r\n  const v0 = divide(state.velocity, 1000);\r\n  const v = multiply(v0, kv, 1000);\r\n  const x = add(state.position, multiply(v0, kx));\r\n  return block([\r\n    set(state.position, x),\r\n    set(state.velocity, v),\r\n    set(state.time, clock),\r\n    cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1)),\r\n  ]);\r\n}\r\n\r\nconst procDecay = proc(\r\n  (clock, time, velocity, position, finished, deceleration) =>\r\n    decay(clock, { time, velocity, position, finished }, { deceleration })\r\n);\r\n\r\nexport default function decayAnimation(\r\n  clock,\r\n  { time, velocity, position, finished },\r\n  { deceleration }\r\n) {\r\n  return procDecay(clock, time, velocity, position, finished, deceleration);\r\n}\r\n"],"mappings":"AAAA,SACEA,IAAI,EACJC,GAAG,EACHC,GAAG,EACHC,MAAM,EACNC,QAAQ,EACRC,GAAG,EACHC,KAAK,EACLC,GAAG,EACHC,QAAQ,EACRC,IAAI,EACJC,GAAG;AAGL,IAAMC,YAAY,GAAG,CAAC;AAEtB,SAASC,KAAKA,CAACC,KAAK,EAAEC,KAAK,EAAEC,MAAM,EAAE;EACnC,IAAMC,QAAQ,GAAGhB,IAAI,CAACc,KAAK,CAACG,IAAI,EAAEH,KAAK,CAACG,IAAI,EAAEJ,KAAK,CAAC;EACpD,IAAMK,SAAS,GAAGjB,GAAG,CAACY,KAAK,EAAEG,QAAQ,CAAC;EAQtC,IAAMG,EAAE,GAAGjB,GAAG,CAACa,MAAM,CAACK,YAAY,EAAEF,SAAS,CAAC;EAC9C,IAAMG,EAAE,GAAGlB,MAAM,CACfC,QAAQ,CAACW,MAAM,CAACK,YAAY,EAAEnB,GAAG,CAAC,CAAC,EAAEkB,EAAE,CAAC,CAAC,EACzClB,GAAG,CAAC,CAAC,EAAEc,MAAM,CAACK,YAAY,CAC5B,CAAC;EACD,IAAME,EAAE,GAAGnB,MAAM,CAACW,KAAK,CAACS,QAAQ,EAAE,IAAI,CAAC;EACvC,IAAMC,CAAC,GAAGpB,QAAQ,CAACkB,EAAE,EAAEH,EAAE,EAAE,IAAI,CAAC;EAChC,IAAMM,CAAC,GAAGpB,GAAG,CAACS,KAAK,CAACY,QAAQ,EAAEtB,QAAQ,CAACkB,EAAE,EAAED,EAAE,CAAC,CAAC;EAC/C,OAAOf,KAAK,CAAC,CACXC,GAAG,CAACO,KAAK,CAACY,QAAQ,EAAED,CAAC,CAAC,EACtBlB,GAAG,CAACO,KAAK,CAACS,QAAQ,EAAEC,CAAC,CAAC,EACtBjB,GAAG,CAACO,KAAK,CAACG,IAAI,EAAEJ,KAAK,CAAC,EACtBb,IAAI,CAACQ,QAAQ,CAACE,GAAG,CAACc,CAAC,CAAC,EAAEb,YAAY,CAAC,EAAEJ,GAAG,CAACO,KAAK,CAACa,QAAQ,EAAE,CAAC,CAAC,CAAC,CAC7D,CAAC;AACJ;AAEA,IAAMC,SAAS,GAAGnB,IAAI,CACpB,UAACI,KAAK,EAAEI,IAAI,EAAEM,QAAQ,EAAEG,QAAQ,EAAEC,QAAQ,EAAEP,YAAY;EAAA,OACtDR,KAAK,CAACC,KAAK,EAAE;IAAEI,IAAI,EAAJA,IAAI;IAAEM,QAAQ,EAARA,QAAQ;IAAEG,QAAQ,EAARA,QAAQ;IAAEC,QAAQ,EAARA;EAAS,CAAC,EAAE;IAAEP,YAAY,EAAZA;EAAa,CAAC,CAAC;AAAA,CAC1E,CAAC;AAED,eAAe,SAASS,cAAcA,CACpChB,KAAK,EAAAiB,IAAA,EAAAC,KAAA,EAGL;EAAA,IAFEd,IAAI,GAAAa,IAAA,CAAJb,IAAI;IAAEM,QAAQ,GAAAO,IAAA,CAARP,QAAQ;IAAEG,QAAQ,GAAAI,IAAA,CAARJ,QAAQ;IAAEC,QAAQ,GAAAG,IAAA,CAARH,QAAQ;EAAA,IAClCP,YAAY,GAAAW,KAAA,CAAZX,YAAY;EAEd,OAAOQ,SAAS,CAACf,KAAK,EAAEI,IAAI,EAAEM,QAAQ,EAAEG,QAAQ,EAAEC,QAAQ,EAAEP,YAAY,CAAC;AAC3E"},"metadata":{},"sourceType":"module","externalDependencies":[]}